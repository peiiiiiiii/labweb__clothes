{"version":3,"sources":["main.js","shoppingCart.js","fornt__api.js","collection.js"],"names":["navbtn","document","querySelector","closebtn","bgheader","header_navArea","moblie_toogle","querySelectorAll","add_cart","header__side","search__btn","search__inner","r__mypage","nav__search","getElementById","inpt__ss","mobile__cart","mobile__cart2","header__cart","addEventListener","localStorage","getItem","setAttribute","CART","init","showCart","incres","decrea","e","preventDefault","params","push","selection","value","setItem","JSON","stringify","window","location","href","classList","toggle","contains","setTimeout","style","display","dis2","cart","Array","from","forEach","element","i","l","dis","opacity","ready","login__href","href__location","isor","opa","add","remove","convert","money","internationalNumberFormat","Intl","NumberFormat","s","format","token","KEY","contents","_contents","parse","count__cart","sync","_cart","count_s","a","length","innerHTML","find","id","color","size","match","filter","item","qty_input","img","obj","PRODUCTS","CommodityId","title","CommodityName","qty","itemPrice","S_Price","increase","map","reduce","parseInt","empty","logContents","prefix","totalPrice","totalCart","Number","toFixed","plus_item","total_cart2","ev","controls","target","parentElement","getAttribute","textContent","removeChild","mins_item","total_cart3","cartSection","total_cart","total","cc","output__cart","insertAdjacentHTML","showProducts","product","console","log","productSection","relatedSection","sliders","CommodityImages","slider__content","active__slider","slider","sizes","CommoditySizes","collator","Collator","size__content","SortArray","b","toLowerCase","sort","colors","CommodityColors","color_content","c","d","kinds","CommodityTags","lind__text","kind","product__list","Description","Material","toggle__title","toggle__content","toggledispaly","showProducts2","like__content","image","Price","QTY","IMG","addItem","getslider0","errorMessage","err","sliderss","makeRequest","method","url","data","Promise","resolve","reject","xhr","XMLHttpRequest","toUpperCase","open","setRequestHeader","onload","status","response","statusText","onerror","send","Delete","result","GetCommodities","colectionsearch","profiletoken","GetColor","GetAllTags","search__item","search__area","queryString","search","urlParams","URLSearchParams","kindID","get","collection__list","fliter__btn","price__h","clear__btn","DATA","output","filter__content","tag__content","comparatext","search_status","res","res__arr","removeItem","showCollection","getColor","showColor","getAllTags","showAllTag","parentnode","wraperrrr","filterUrl","CommodityKinds","some","showlist","dis332","toggle_s","k","con","Tag","Kinds","TagsID","color__con","ColorId","ColorName","CommodityPrice","filter__title","filter__sub","price__filter","getElementsByName","colorss","coloo","tagsss","radio","checked","dataset","byTags","wantedkinds","byColors","wantedColors","resultFilter","aa","price"],"mappings":"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","file":"collection.3e6e3593.js","sourceRoot":"..","sourcesContent":["\nlet navbtn = document.querySelector(\".js-header-nav\");\nlet closebtn = document.querySelector(\"#nav-close\");\n\nlet bgheader = document.querySelector(\".js-header-bg\");\n\nlet header_navArea = document.querySelector(\".js-header-navArea\");\n\nlet moblie_toogle = document.querySelectorAll(\".js-header-toggleClick\");\n\nlet add_cart = document.querySelector(\".js-cart-btn\");\nlet header__side = document.querySelector(\".js-header-cartArea\");\n\nlet search__btn = document.querySelector(\".js-search-btn\");\nlet search__inner = document.querySelector(\".js-header-searchArea\");\n\nlet r__mypage = document.querySelector(\".r__mypage\");\nlet nav__search = document.getElementById(\"nav__search2222\");\nlet inpt__ss = document.querySelector(\"#ssssss\");\n\nimport CART from \"./shoppingCart.js\";\nimport {showCart} from \"./shoppingCart.js\";\nimport {incres} from \"./shoppingCart.js\";\nimport {decrea} from \"./shoppingCart.js\";\n\n\nlet mobile__cart = document.querySelector(\".js-header-cart\");\nlet mobile__cart2 = document.querySelector(\".js-cart-two\");\n\nlet header__cart = document.querySelector(\".js-item-count\");\n\n\n// if (document.readyState == 'loading') {\n//     document.addEventListener('DOMContentLoaded', ready);\n//     // console.log('hihihi');\n// } else {\n//     console.log(\"nonno\");\n//     ready();\n// }\n\ndocument.addEventListener(\"DOMContentLoaded\",  ()=> {\n\n    // login__href();\n    // login__href();\n\n    if(localStorage.getItem('user')){\n        r__mypage.setAttribute(\"href\", \"profile.html\");\n    }else{\n        r__mypage.setAttribute(\"href\", \"login.html\");\n    }\n\n\n    CART.init();\n    \n    \n    showCart();\n    incres();\n    decrea();\n    \n    nav__search.addEventListener('click', function(e) {\n        e.preventDefault();\n        let params = [];\n        params.push({\n                selection:inpt__ss.value\n            })\n        \n        localStorage.setItem(\"search\",JSON.stringify(params));\n        window.location.href = \"collection.html\";\n        \n        \n       \n        \n        \n        // console.log(typeof(res));\n\n        \n    },false)\n\n\n    \n    \n    navbtn.addEventListener('click', function(e) {\n        \n        navbtn.classList.toggle(\"is-active\");\n        // header_navArea.classList.toggle(\"is-open\");\n        if(header__side.classList.contains('is-open') || search__inner.classList.contains('is-open')){\n            setTimeout(function(){\n                header__side.style.display = \"none\";\n                search__inner.style.display = \"none\";\n                // bgheader.style.display = \"none\";\n            }, 300);\n        }\n        if (navbtn.classList.contains('is-active')) {\n            dis2(header_navArea);\n            dis2(bgheader);\n            \n            \n        } else  {\n            dis2(header_navArea);\n            dis2(bgheader);\n            \n            setTimeout(function(){\n                bgheader.style.display = \"none\";\n            }, 300);\n            setTimeout(function(){\n                header_navArea.style.display = \"none\";\n            }, 300);\n            \n        }\n    },false)\n\n    add_cart.addEventListener('click',function(e) {\n\n        cart();\n\n    },false);  \n\n    mobile__cart.addEventListener('click',function(e) {\n\n        cart();\n\n        incres();\n        decrea();\n\n    },false);  \n\n    mobile__cart2.addEventListener('click',function(e) {\n\n        cart();\n\n        incres();\n        decrea();\n\n    },false);  \n\n    search__btn.addEventListener('click',function(e) {\n\n\n        \n        if(!header_navArea.classList.contains('is-open') ){\n            navbtn.classList.toggle(\"is-active\");\n        }\n        \n        if (navbtn.classList.contains('is-active')) {\n            dis2(search__inner);\n            // header__side.style.display = \"block\";\n            dis2(bgheader);\n        } else {\n            \n            dis2(search__inner);\n            dis2(bgheader);\n            \n            setTimeout(function(){\n                search__inner.style.display = \"none\";\n                bgheader.style.display = \"none\";\n            }, 300);\n            \n        }\n\n    },false);   \n\n\n\n    Array.from(moblie_toogle).forEach((element,i) => {\n        element.addEventListener('click', (l)=>{\n            element.classList.toggle(\"is-active\");\n            document.querySelectorAll(\".js-header-inview dd\")[i].style.display = dis(element)[0];\n            \n            document.querySelectorAll(\".js-header-inview dd\")[i].style.opacity = dis(element)[1];\n        });\n    });\n    \n});\n\n\n\n// export default;\n\n\n\nfunction ready(){\n\n    \n\n    \n\n\n    CART.init();\n    \n    \n    showCart();\n    incres();\n    decrea();\n    \n    navbtn.addEventListener('click', function(e) {\n        \n        navbtn.classList.toggle(\"is-active\");\n        // header_navArea.classList.toggle(\"is-open\");\n        if(header__side.classList.contains('is-open') || search__inner.classList.contains('is-open')){\n            setTimeout(function(){\n                header__side.style.display = \"none\";\n                search__inner.style.display = \"none\";\n                // bgheader.style.display = \"none\";\n            }, 300);\n        }\n        if (navbtn.classList.contains('is-active')) {\n            dis2(header_navArea);\n            dis2(bgheader);\n            \n            \n        } else  {\n            dis2(header_navArea);\n            dis2(bgheader);\n            \n            setTimeout(function(){\n                bgheader.style.display = \"none\";\n            }, 300);\n            setTimeout(function(){\n                header_navArea.style.display = \"none\";\n            }, 300);\n            \n        }\n    },false)\n\n    add_cart.addEventListener('click',function(e) {\n\n        cart();\n\n    },false);  \n\n    mobile__cart.addEventListener('click',function(e) {\n\n        cart();\n\n        incres();\n        decrea();\n\n    },false);  \n\n    mobile__cart2.addEventListener('click',function(e) {\n\n        cart();\n\n        incres();\n        decrea();\n\n    },false);  \n\n    search__btn.addEventListener('click',function(e) {\n\n\n        \n        if(!header_navArea.classList.contains('is-open') ){\n            navbtn.classList.toggle(\"is-active\");\n        }\n        \n        if (navbtn.classList.contains('is-active')) {\n            dis2(search__inner);\n            // header__side.style.display = \"block\";\n            dis2(bgheader);\n        } else {\n            \n            dis2(search__inner);\n            dis2(bgheader);\n            \n            setTimeout(function(){\n                search__inner.style.display = \"none\";\n                bgheader.style.display = \"none\";\n            }, 300);\n            \n        }\n\n    },false);   \n\n\n\n    Array.from(moblie_toogle).forEach((element,i) => {\n        element.addEventListener('click', (l)=>{\n            element.classList.toggle(\"is-active\");\n            document.querySelectorAll(\".js-header-inview dd\")[i].style.display = dis(element)[0];\n            \n            document.querySelectorAll(\".js-header-inview dd\")[i].style.opacity = dis(element)[1];\n        });\n    });\n}\n\nfunction login__href(){\n    let href__location = document.querySelectorAll(\".href__location\");\n    \n    \n    Array.from(href__location).forEach((element, i) => {\n        // element.addEventListener('click',() =>{\n        //     element.classList.toggle(\"is-open\");\n        //     toggle__content[i].style.display = toggledispaly(element)[0];\n        //     console.log(toggle__content[i]);\n        // })\n        \n    });\n\n    \n}\nfunction dis(element){\n    let isor = (element.classList.contains(\"is-active\")? \"block\" : \"none\");\n    let opa = (element.classList.contains(\"is-active\")? \"1\" : \"0\");\n\n    return [isor,opa];\n}\nfunction dis2(element){\n    if(navbtn.classList.contains(\"is-active\")){\n        element.style.display = \"block\";\n        element.classList.add(\"is-open\");\n        element.classList.remove(\"out\");\n    }else{\n        element.classList.remove(\"is-open\");\n        element.classList.remove(\"out\");\n    }\n}\n\nfunction cart(){\n    if(!header_navArea.classList.contains('is-open') ){\n        navbtn.classList.toggle(\"is-active\");\n    }\n\n    if(search__inner.classList.contains('is-open')){\n        setTimeout(function(){\n            search__inner.style.display = \"none\";\n        }, 300);\n    }\n    \n    if (navbtn.classList.contains('is-active')) {\n        dis2(header__side);\n        // header__side.style.display = \"block\";\n        dis2(bgheader);\n    } else {\n        \n        dis2(header__side);\n        dis2(bgheader);\n        \n        setTimeout(function(){\n            header__side.style.display = \"none\";\n            bgheader.style.display = \"none\";\n        }, 300);\n        \n    }\n\n    \n}\n\n\n// export default dis2();\n\n\nexport function convert(money) {\n    let internationalNumberFormat = new Intl.NumberFormat('en-US')\n    let s = internationalNumberFormat.format(money);\n    return s;\n}\n","import {convert} from './main.js';\r\nlet token = localStorage.getItem(\"token\");\r\n\r\nconst CART = {\r\n    KEY: \"shopping cart\",\r\n    contents: [],\r\n    init(){\r\n        let _contents = localStorage.getItem(CART.KEY);\r\n        if(_contents){\r\n            CART.contents = JSON.parse(_contents);\r\n        }\r\n        CART.count__cart();\r\n    },\r\n    async sync(){\r\n        let _cart = JSON.stringify(CART.contents);\r\n        await localStorage.setItem(CART.KEY, _cart);\r\n        await CART.count__cart();\r\n        // retrun \r\n        // let pust = {\r\n        //     commodityID: PRODUCTS.CommodityId,\r\n        //     sizeID: size,\r\n        //     colorID: color,\r\n        //     amount: qty_input\r\n        // };\r\n\r\n    },\r\n    async count__cart(){\r\n        let count_s = JSON.parse(localStorage.getItem(\"shopping cart\"))\r\n        if(count_s){\r\n            const a = [...count_s].length;\r\n            document.querySelector(\".js-item-count\").innerHTML = a;\r\n        }else{\r\n            document.querySelector(\".js-item-count\").innerHTML = 0;\r\n        }\r\n    },\r\n    find(id,color,size){\r\n        \r\n        let match = CART.contents.filter(item=>{\r\n            // console.log('item',item.id);\r\n            // console.log('id',id);\r\n            // console.log('item',item.color);\r\n            // console.log('id',color);\r\n            // console.log('item',item.size);\r\n            // console.log('id',size);\r\n            // console.log(item.color !== color);\r\n            // console.log(item.size !== size);\r\n            if((item.id === id) && (item.color === color) && (item.size === size))\r\n                return true;\r\n        });\r\n        if(match && match[0]){\r\n            return match[0];\r\n        }\r\n    },\r\n    \r\n    add(id,qty_input,size,color,img){\r\n        \r\n        let obj = {\r\n            id: PRODUCTS.CommodityId,\r\n            title: PRODUCTS.CommodityName,\r\n            size: size,\r\n            color: color,\r\n            img: img,\r\n            qty: qty_input,\r\n            itemPrice: PRODUCTS.S_Price\r\n        };\r\n        \r\n\r\n        \r\n        if(CART.find(id,color,size)){\r\n            CART.increase(id, qty_input);\r\n        }else{\r\n            // console.log('product',PRODUCTS);\r\n\r\n            CART.contents.push(obj);\r\n            // console.log('ooo');\r\n            // doAjaxThings(pust);\r\n            CART.sync();\r\n           \r\n\r\n            \r\n            // console.log('p', PRODUCTS)\r\n            // var result = Object.entries(PRODUCTS);\r\n            // console.log('r',result)\r\n            // let arr = PRODUCTS.filter(product=>{\r\n            //     if(product.id == id){\r\n            //         return true;\r\n            //     }\r\n            // });\r\n            // if(arr && arr[0]){\r\n            //     let obj = {\r\n            //         id: arr[0].id,\r\n            //         title: arr[0].title,\r\n            //         qty: 1,\r\n            //         itemPrice: arr[0].price\r\n            //     };\r\n            //     CART.contents.push(obj);\r\n            //     //update localStorage\r\n            //     CART.sync();\r\n            // }else{\r\n            //     //product id does not exist in products data\r\n            //     console.error('Invalid Product');\r\n            // }\r\n        }\r\n    },\r\n    increase(id, qty=1,color, size){\r\n        // console.log(CART.contents);\r\n        CART.contents = CART.contents.map(item=>{\r\n            if((item.id === id) && (item.color === color) && (item.size === size)){\r\n                \r\n                item.qty = item.qty + qty;\r\n                // console.log(item.qty);\r\n            }  \r\n            return item;\r\n        });\r\n        \r\n        CART.sync()\r\n    },\r\n    reduce(id, qty=1, color,size){\r\n        \r\n        CART.contents = CART.contents.map(item=>{\r\n            if((item.id === id) && (item.color === color) && (item.size === size))\r\n                item.qty = item.qty - qty;\r\n            return item;\r\n        });\r\n        CART.contents.forEach(async item=>{\r\n            if(item.id === id && item.qty === 0 && (item.color === color) && (item.size === size))\r\n                await CART.remove(id, color,size);\r\n        });\r\n        \r\n        CART.sync()\r\n    },\r\n    remove(id, color,size){\r\n        CART.contents = CART.contents.filter(item=>{\r\n            \r\n            if(!(item.id === parseInt(id) && (item.color === color) && (item.size === size)))\r\n                return true;\r\n        });\r\n        \r\n        CART.sync()\r\n        CART.count__cart();\r\n    },\r\n    empty(){\r\n        \r\n        CART.contents = [];\r\n        \r\n        CART.sync()\r\n    },\r\n    logContents(prefix){\r\n        // console.log(prefix, CART.contents)\r\n    },\r\n    totalPrice(){\r\n        let totalCart = 0;\r\n        let a = CART.contents.map((item) => {\r\n            totalCart += item.itemPrice * item.qty; \r\n        });\r\n        return Number(totalCart.toFixed(2));\r\n    }\r\n\r\n\r\n\r\n};\r\n\r\nlet PRODUCTS = [];\r\n\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', ()=>{\r\n    \r\n    // CART.init();\r\n    \r\n    \r\n    // showCart();\r\n    \r\n    // incres();\r\n    // decrea();\r\n\r\n    \r\n});\r\nexport function incres(){\r\n    // console.log(\"incr\");\r\n    let plus_item = document.querySelectorAll(\".product__amount-plus\");\r\n    let total_cart2 = document.getElementById(\"total-cart\");\r\n    Array.from(plus_item).forEach((element, i) => {\r\n    // console.log('increa',i)\r\n        element.addEventListener('click',(ev) =>{\r\n            // console.log(\"click\");\r\n            ev.preventDefault();\r\n        \r\n            let controls = ev.target.parentElement;\r\n\r\n            let id = parseInt(controls.getAttribute('data-id'));\r\n            let color = controls.getAttribute('data-color');\r\n            let size = controls.getAttribute('data-size');\r\n\r\n            CART.increase(id, 1,color,size);\r\n            \r\n            let qty = controls.querySelector('div:nth-child(2)');\r\n            let item = CART.find(id,color,size);\r\n            \r\n            if(item){\r\n                qty.textContent = item.qty;\r\n            }else{\r\n                document.getElementById('cart__inner').removeChild(controls.parentElement.parentElement);\r\n\r\n            }\r\n            // console.log(CART.totalPrice());\r\n            total_cart2.innerHTML = \"\";\r\n            total_cart2.innerHTML = convert(CART.totalPrice());\r\n            // document.getElementById(\"total-cart\")\r\n        })\r\n\r\n        \r\n    });\r\n\r\n}\r\n\r\nexport function decrea(){\r\n    \r\n\r\n    let mins_item = document.querySelectorAll(\".product__amount-minus\");\r\n    let total_cart3 = document.getElementById(\"total-cart\");\r\n    Array.from(mins_item).forEach((element, i) => {\r\n        element.addEventListener('click',(ev) =>{\r\n            ev.preventDefault();\r\n            let controls = ev.target.parentElement;\r\n\r\n            let id = parseInt(controls.getAttribute('data-id'));\r\n            let color = controls.getAttribute('data-color');\r\n            let size = controls.getAttribute('data-size');\r\n\r\n            CART.reduce(id, 1,color,size);\r\n            \r\n            let qty = controls.querySelector('div:nth-child(2)');\r\n            let item = CART.find(id,color,size);\r\n            \r\n            if(item){\r\n                qty.textContent = item.qty;\r\n            }else{\r\n                document.getElementById('cart__inner').removeChild(controls.parentElement.parentElement.parentElement.parentElement);\r\n                showCart();\r\n            }\r\n            total_cart3.innerHTML = \"\";\r\n            total_cart3.innerHTML = convert(CART.totalPrice());\r\n        })\r\n    });\r\n}\r\n// navbar cart\r\nexport function showCart(){\r\n    // add id 把 ul 改掉\r\n    // <div class=\"l-header__cart js-header-cartArea\" id=\"cart__inner\">\r\n    let cartSection = document.getElementById('cart__inner');\r\n    let total_cart = document.getElementById(\"total-cart\");\r\n\r\n    cartSection.innerHTML= \"\";\r\n    let s = CART.contents;\r\n    // console.log('s2',CART.contents);\r\n    \r\n    let total = convert(CART.totalPrice());\r\n    // console.log('s3',CART.contents);\r\n    let  cc = document.querySelector(\".l-header__cart-bottom\");\r\n    \r\n    let output__cart = '';\r\n    // console.log(s.length !== 0)\r\n    // console.log(s)\r\n    if(s.length !== 0 ||s ){\r\n        s.forEach( item => {\r\n            output__cart += `\r\n                <div class=\"product__list-item\">\r\n                    <figure>\r\n                        <div class=\"product__img\">\r\n                            <a href= 'detail.html?id=${item.id}'>\r\n                            <img src=${item.img}>\r\n                            </a>\r\n                        </div>\r\n                        <figcaption>\r\n                            <dl>\r\n                            <dt>\r\n                                <a href='detail.html?id=${item.id}'>\r\n                                    ${item.title}\r\n                                </a>\r\n                                <p>${item.size} / ${item.color}</p>\r\n                            </dt>\r\n                            <dd>\r\n                                <ul class=\"product__prices\">\r\n                                    <li class=\"product__price\">NT${convert(item.itemPrice)}</li>\r\n                                </ul>\r\n                            </dd>\r\n                            <div class=\"product__amount\" data-id= ${item.id}  data-quantity=${item.qty} data-color= ${item.color} data-size= ${item.size}>\r\n                                <div class=\"product__amount-minus\" data-id= ${item.id}></div>\r\n                                <div class=\"product__amount-curr\">${item.qty}</div>\r\n                                <div class=\"product__amount-plus\" data-id= ${item.id}></div>\r\n                            </div>\r\n                            </dl>\r\n                        </figcaption>\r\n                    </figure>\r\n                </div>\r\n            \r\n            `\r\n        })\r\n        cc.style.display = \"block\";\r\n        total_cart.innerHTML = total;\r\n    }\r\n    if(s.length == 0){\r\n        cc.style.display = \"none\";\r\n        output__cart = `\r\n            <div class=\"l-header__cart-message js-header-cartMessage\" style=\"display:block;\">\r\n                <span>你的購物車是空的</span>\r\n            </div>\r\n        `;\r\n        \r\n    }\r\n    cartSection.insertAdjacentHTML('afterbegin',output__cart);\r\n    \r\n}\r\n\r\nexport function showProducts( product ){\r\n    // console.log(\"p\",product)\r\n    console.log(product);\r\n    // console.log(JSON.stringify(product))\r\n    // console.log( JSON.parse(product))\r\n    PRODUCTS = product;\r\n    //take data.products and display inside <section id=\"products\">\r\n    \r\n    let productSection = document.getElementById('product__item');\r\n    productSection.innerHTML = \"\";\r\n    let relatedSection = document.getElementById('related__list');\r\n    relatedSection.innerHTML = \"\";\r\n    \r\n    // slider\r\n    let sliders = product.CommodityImages;\r\n    // console.log(sliders);\r\n    let slider__content = \"\";\r\n    let active__slider = '';\r\n    for(let slider in sliders)\r\n    {   \r\n        active__slider = (slider == 0) ? 'active ': '';\r\n        slider__content += `\r\n            <div class=\"slider-item ${active__slider} slide\" >\r\n                <img src=${sliders[slider]} alt=\"\">\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    // size\r\n    let sizes = product.CommoditySizes;\r\n    // console.log(sizes);\r\n    const collator = new Intl.Collator('en');\r\n    let size__content = \"\";\r\n    function SortArray(a, b){\r\n        a = a.toLowerCase();\r\n        b = b.toLowerCase();\r\n        if (a < b) return 1;\r\n        if (a > b) return -1;\r\n        return 0;\r\n    }\r\n    sizes = sizes.sort(SortArray);\r\n    for(let size in sizes)\r\n    {   \r\n        \r\n        size__content += `\r\n            <li class=\"s-select__item\">\r\n                <input type=\"radio\" class=\"input_radio\" id=\"option-size-${size}\" value=${sizes[size]} name=\"option-size\">    \r\n                <label for=\"option-size-${size}\" class=\"size-radio\">${sizes[size]}</label>\r\n            </li>\r\n        `;\r\n    }\r\n    // color\r\n    let colors= product.CommodityColors;\r\n    let color_content = \"\";\r\n    let c = [];\r\n    let d = [];\r\n    \r\n    for(var color in colors)\r\n    {   \r\n        if(color % 2 == 0){\r\n            c.push(colors[color]);\r\n        }else{\r\n            d.push(colors[color]);\r\n        }\r\n        \r\n        \r\n    }\r\n    Array.from(c).forEach((element, i) => {\r\n        color_content += `\r\n            <li class=\"color__wrapper--item\">\r\n                <input type=\"radio\" class=\"input_radio\" id=\"option-color-${i}\" value=${element} name=\"option-color\">    \r\n                <label for=\"option-color-${i}\" class=\"color-radio\">\r\n                    <img src=${d[i]} alt=\"\">\r\n                </label>\r\n            </li>\r\n        `\r\n    });\r\n    \r\n    // kind\r\n    let kinds = product.CommodityTags;\r\n    let lind__text = \"\";\r\n    for(var kind in kinds)\r\n    {   \r\n        lind__text += `\r\n            <li class=\"productTag-item\"><a href=\"\">${ kinds[kind]}</a></li>\r\n        `;\r\n    }\r\n    \r\n\r\n\r\n\r\n    let product__list = \"\";\r\n    product__list = `\r\n\r\n    <div class=\"item__wrapper\" >\r\n        <div class=\"item__wrapper-left\">\r\n            <div class=\"item__wrapper-slider slider slides\" id=\"slides\">\r\n                \r\n                \r\n                ${slider__content}\r\n                <ol class=\"slide-indicators\">\r\n                    <li class=\"slide-indicator\"></li>\r\n                    <li class=\"slide-indicator\"></li>\r\n                    <li class=\"slide-indicator\"></li>\r\n                    <li class=\"slide-indicator\"></li>\r\n                    <li class=\"slide-indicator\"></li>\r\n                </ol>\r\n                \r\n            </div>\r\n            <span class=\"slider-control-prev control prev\" role=\"button\" id=\"prev\">\r\n                    \r\n            </span>\r\n            <span class=\"slider-control-next control next\" role=\"button\" id=\"next\">\r\n                \r\n            </span>\r\n        </div>\r\n        <div class=\"item__wrapper-right\">\r\n            <div class=\"item__wrapper-list\">\r\n                <h3 class=\"item__wrapper-title u-margin-bottom-small\">${product.CommodityName}</h3>\r\n                <p class=\"item__wrapper-price u-margin-bottom-medium\">NT ${convert(product.S_Price)}</p>\r\n                <div class=\"item__wrapper-select\">\r\n                    <p class=\"s_title\">\r\n                        尺寸\r\n                    </p>\r\n                    <div>\r\n                        <ul class=\"s-select__list u-margin-bottom-small\">\r\n                            ${size__content}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class=\"color__wrapper u-margin-bottom-small\">\r\n                    <p class=\"s_title\">\r\n                        顏色\r\n                    </p>\r\n                    <div>\r\n                        <ul class=\"color__wrapper--list\">\r\n                            ${color_content}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class=\"quantity__wrapper u-margin-bottom-medium\">\r\n                    <p class=\"s_title\">數量</p>\r\n                    <div class=\"quantity__border\">\r\n                        <span class=\"quantity__Button Link Link--secondary js-detail-mins\" >\r\n                            <svg class=\"Icon Icon--minus\" role=\"presentation\" viewBox=\"0 0 16 2\">\r\n                                <path d=\"M1,1 L15,1\" stroke=\"currentColor\" fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"square\"></path>\r\n                            </svg>\r\n                        </span>\r\n                        <input  id=\"add__input\" type=\"text\" class=\"quantity__current\" pattern=\"[0-9]*\" value=\"1\" >\r\n                        <span class=\"quantity__Button Link Link--secondary js-detail-add\">\r\n                            <svg class=\"Icon Icon--plus\" role=\"presentation\" viewBox=\"0 0 16 16\">\r\n                                <g stroke=\"currentColor\" fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"square\">\r\n                                <path d=\"M8,1 L8,15\"></path>\r\n                                <path d=\"M1,8 L15,8\"></path>\r\n                                </g>\r\n                            </svg>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"addcart__wrapper\">\r\n                    \r\n\r\n                    <div class=\"btn__box detail__btn js-add-cart\" >\r\n                        <button class=\"form__btn\" data-id=${product.CommodityId}><span>加入購物車</span></button>\r\n                    </div>\r\n\r\n                    \r\n                </div>\r\n                <div class=\"wishlist__wrapper\">\r\n                    <button class=\"wishtlist\">\r\n                        <div>\r\n                            <svg version=\"1.1\" xmlns=\"https://www.w3.org/2000/svg\" width=\"64\" height=\"64\" viewBox=\"0 0 64 64\">\r\n                                <path d=\"M47.199 4c-6.727 0-12.516 5.472-15.198 11.188-2.684-5.715-8.474-11.188-15.201-11.188-9.274 0-16.8 7.527-16.8 16.802 0 18.865 19.031 23.812 32.001 42.464 12.26-18.536 31.999-24.2 31.999-42.464 0-9.274-7.527-16.802-16.801-16.802z\" fill=\"#000\"></path>\r\n                            </svg>\r\n                            <span>收藏</span>\r\n                        </div>\r\n                    </button>\r\n                </div>\r\n                <div class=\"description__wrapper\">\r\n                    <dl class=\"description__wrapper-des\">\r\n                        <dt class=\"description__wrapper-title js-toggleClick\">\r\n                            描述\r\n                        </dt>\r\n                        <dd class=\"description__wrapper-content js-toggleClickArea\">\r\n                            <ul>\r\n                                <li>${product.Description}</li>\r\n                            </ul>\r\n                        </dd>\r\n                    </dl>\r\n                    <dl class=\"description__wrapper-matrial\">\r\n                        <dt class=\"description__wrapper-title js-toggleClick\">\r\n                            材質\r\n                        </dt>\r\n                        <dd class=\"description__wrapper-content js-toggleClickArea\">\r\n                            <ul>\r\n                                <li>${product.Material}</li>\r\n                            </ul>\r\n                        </dd>\r\n                    </dl>\r\n                    <dl class=\"description__wrapper-size\">\r\n                        <dt class=\"description__wrapper-title js-toggleClick\">\r\n                            尺寸\r\n                        </dt>\r\n                        <dd class=\"description__wrapper-content js-toggleClickArea\">\r\n                            <ul>\r\n                                <li>MARK - 184cm / 75kg / size XL</li>\r\n                                <li>WILLY - 182cm / 75kg / size XL</li>\r\n                                <li>黃翊 - 182cm / 64kg /size L</li>\r\n                            </ul>\r\n                        </dd>\r\n                    </dl>\r\n                </div>\r\n\r\n                <div class=\"productTag__wrapper\">\r\n                    <ul class=\"productTag-list\">\r\n                        ${lind__text}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    \r\n    </div>\r\n    `;\r\n    productSection.insertAdjacentHTML('afterbegin',product__list);\r\n\r\n    // des js\r\n    let toggle__title = document.querySelectorAll(\".js-toggleClick\");\r\n    let toggle__content = document.querySelectorAll(\".js-toggleClickArea\");\r\n\r\n    function toggledispaly(element){\r\n        let isor = (element.classList.contains(\"is-open\")? \"block\" : \"none\");\r\n        let opa = (element.classList.contains(\"is-open\")? \"1\" : \"0\");\r\n\r\n        return [isor,opa];\r\n    }\r\n\r\n\r\n    Array.from(toggle__title).forEach((element, i) => {\r\n        element.addEventListener('click',() =>{\r\n            element.classList.toggle(\"is-open\");\r\n            toggle__content[i].style.display = toggledispaly(element)[0];\r\n            // console.log(toggle__content[i]);\r\n        })\r\n    });\r\n\r\n     \r\n}\r\n\r\nexport function showProducts2( product ){\r\n    // console.log(product)\r\n    let relatedSection = document.getElementById('related__list');\r\n    relatedSection.innerHTML = \"\";\r\n    \r\n    let like__content = \"\";\r\n    product.forEach( item => {\r\n        // console.log(item)\r\n        let image = item.CommodityImages[0];\r\n        like__content += `\r\n            <li class=\"item__list-item\">\r\n                <a href=\"detail.html?id=${item.CommodityId}\">\r\n                    <figure>\r\n                        <div class=\"item__list-photo js-follower-Area\">\r\n                            <img src=\"${image}\" alt=\"\">\r\n                        </div>\r\n                        <figcaption>\r\n                        <p class=\"item__list-sale\"></p>\r\n                        <p class=\"item__list-name\">${item.CommodityName}</p>\r\n                        \r\n                        <ul class=\"item__list-prices price-group item__state\">\r\n                                <li class=\"item__list-price\">\r\n                                    <del class=\"price-delete\">\r\n                                        <span class=\"price-amount\">NT$ ${item.Price}</span>\r\n                                    </del>\r\n                                    <ins class=\"price-insert\">\r\n                                        <span class=\"price-amount\">NT$ ${item.S_Price}</span>\r\n                                    </ins>\r\n                                </li>\r\n                        </ul>\r\n                        </figcaption>\r\n                    </figure>\r\n                </a>\r\n            </li>\r\n        `;\r\n\r\n\r\n    });\r\n    relatedSection.insertAdjacentHTML('beforeEnd',like__content)\r\n\r\n\r\n    \r\n\r\n\r\n    \r\n    \r\n    \r\n    \r\n\r\n     \r\n}\r\n\r\nlet QTY = 0;\r\nlet IMG = '';\r\nexport function addItem(ev,qty_input,size,color){\r\n    \r\n    ev.preventDefault();\r\n    // console.log(ev.target);\r\n    // console.log(ev.target);\r\n    // console.log(qty_input);\r\n    getslider0();\r\n    let id = parseInt(ev.target.getAttribute('data-id'));\r\n    // console.log('add to cart item', id);\r\n    // console.log(CART.contents)\r\n    QTY = qty_input;\r\n    CART.add(id,qty_input,size,color,IMG);\r\n    showCart();\r\n}\r\n\r\nexport function errorMessage(err){\r\n    //display the error message to the user\r\n    // console.error(err);\r\n}\r\n\r\nfunction getslider0(){\r\n    \r\n    let sliderss = PRODUCTS.CommodityImages;\r\n    for(let slider in sliderss)\r\n    {   \r\n        IMG = sliderss[0];\r\n    }\r\n}\r\nexport default CART;\r\n\r\n\r\n// post add cart\r\n\r\n\r\n// async function doAjaxThings(params) {\r\n    \r\n//     // console.log(\"收到\");\r\n//     let result = await makeRequest(\"POST\", \"https://localhost:7206/api/Commodity/addshoppingcart\",params);\r\n//     // console.log(result);\r\n// }\r\n\r\n\r\n// function makeRequest(method, url,params) {\r\n//     return new Promise(function (resolve, reject) {\r\n//         let xhr = new XMLHttpRequest();\r\n//         xhr.open(method, url);\r\n//         xhr.setRequestHeader('Content-type', 'application/json');\r\n//         xhr.send(JSON.stringify(params));\r\n//         if(token != null)\r\n//         {\r\n//             xhr.setRequestHeader('Authorization', token );\r\n//         }\r\n        \r\n//         xhr.onload = function () {\r\n//             if (this.status >= 200 && this.status < 300) {\r\n//                 resolve(JSON.parse(xhr.responseText));\r\n                \r\n//                 // console.log('addd post done')\r\n//                 return;\r\n                \r\n//                 // console.log(xhr.responseText);\r\n//             } else {\r\n//                 reject({\r\n//                     status: this.status,\r\n//                     statusText: xhr.statusText\r\n//                 });\r\n//             }\r\n//         };\r\n//         xhr.onerror = function () {\r\n//             reject({\r\n//                 status: this.status,\r\n//                 statusText: xhr.statusText\r\n//             });\r\n//         };\r\n        \r\n//     });\r\n// }","// --------- Change ----------------\r\nvar token = localStorage.getItem(\"token\");\r\n// console.log(token);\r\n\r\n\r\n\r\nasync function makeRequest(method, url , data) {\r\nreturn new Promise(function (resolve, reject) {\r\n    let xhr = new XMLHttpRequest();\r\n    method= method.toUpperCase();\r\n    xhr.open(method, \"https://localhost:7206/api\" + url);\r\n    xhr.setRequestHeader(\"Authorization\",token);\r\n    if(url != \"/file/upload\" && method == \"POST\"){\r\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\")\r\n    }\r\n\r\n    xhr.onload = function () {\r\n        if (this.status >= 200 && this.status < 300) {\r\n            if(xhr.response != \"\")\r\n                resolve(JSON.parse(xhr.response));\r\n            else\r\n                resolve(\"\");\r\n        } else {\r\n            reject({\r\n                status: this.status,\r\n                statusText: xhr.statusText\r\n            });\r\n        }\r\n    };\r\n    xhr.onerror = function () {\r\n        reject({\r\n            status: this.status,\r\n            statusText: xhr.statusText\r\n        });\r\n    };\r\n    if(method == \"POST\"){\r\n        xhr.send(data);\r\n    }\r\n    else{\r\n        xhr.send();\r\n    }     \r\n});\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nasync function Delete(CommodityId){\r\n    let result = await makeRequest(\"GET\",\"/Commodity/Delete/\"+CommodityId ,null);\r\n    if(await result.status == 200){\r\n        GetCommodities();\r\n    }\r\n}\r\n\r\nexport async function colectionsearch(params) {\r\n    // console.log(params)\r\n    let result = await makeRequest(\"POST\", \"/Commodity/Search\",JSON.stringify(params));\r\n    return result[0];\r\n    \r\n}\r\nexport async function profiletoken() {\r\n    let result = await makeRequest(\"GET\", \"/Commodity/GetTopCommodity\");\r\n    return result;\r\n}\r\n\r\nexport async function GetColor(){\r\n    let result = await makeRequest(\"GET\",\"/Color/GetAll\",null);\r\n    return result;\r\n}\r\nexport async function GetAllTags(){\r\n    let result = await makeRequest(\"GET\",\"/Tags/GetAll\",null);\r\n    return result;\r\n}\r\n","\r\nlet token = localStorage.getItem('token');\r\nlet search__item = '';\r\nlet search__area = '';\r\n\r\n// get url\r\nconst queryString = window.location.search;\r\nconst urlParams = new URLSearchParams(queryString);\r\nlet kindID= urlParams.get('kind');\r\nconsole.log(kindID)\r\nlet kind  = '';\r\nlet navbtn = document.querySelector(\".js-header-nav\");\r\n\r\nlet header_navArea = document.querySelector(\".js-header-navArea\");\r\n\r\n\r\nlet header__side = document.querySelector(\".js-header-cartArea\");\r\nlet bgheader = document.querySelector(\".js-header-bg\");\r\nlet search__inner = document.querySelector(\".js-header-searchArea\");\r\n\r\nlet collection__list = document.getElementById(\"collection__list\");\r\n\r\n// let filter__all = document.querySelector(\"#filter__cc\");\r\n\r\nlet fliter__btn = '';\r\nlet price__h = '';\r\nlet clear__btn = '';\r\nlet DATA = \"\";\r\nlet output = \"\";\r\nlet filter__content = \"\";\r\nlet tag__content = \"\";\r\nlet comparatext = \"\";\r\n    \r\nimport CART from \"./shoppingCart.js\";\r\nimport {showCart} from \"./shoppingCart.js\";\r\nimport {incres} from \"./shoppingCart.js\";\r\nimport {decrea} from \"./shoppingCart.js\";\r\n\r\n// api\r\nimport {profiletoken} from './fornt__api.js';\r\nimport {colectionsearch} from './fornt__api.js';\r\nimport {GetColor} from \"./fornt__api.js\";\r\nimport {GetAllTags} from \"./fornt__api.js\";\r\n\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\",  ()=> {\r\n\r\n    \r\n    \r\n    // navbtn.classList.remove(\"is-active\");\r\n    CART.init();\r\n    showCart();\r\n    incres();\r\n    decrea();\r\n\r\n\r\n    const search_status =  async() =>{\r\n        let params = JSON.parse(localStorage.getItem(\"search\"));\r\n        let res = await colectionsearch(params[0]);\r\n        let res__arr = [];\r\n        res__arr.push(res)\r\n        localStorage.removeItem(\"search\");\r\n        showCollection(res__arr);\r\n    }\r\n    const status = async() => {\r\n        let res = await profiletoken();\r\n        showCollection(res);\r\n    };\r\n    const getColor = async() => {\r\n        let res = await GetColor();\r\n        showColor(res);\r\n    };\r\n    const getAllTags = async() => {\r\n        let res = await GetAllTags();\r\n        // console.log(res)\r\n        showAllTag(res);\r\n    };\r\n    \r\n    getAllTags();\r\n    getColor();\r\n    \r\n    \r\n\r\n    if(localStorage.getItem(\"search\")){\r\n        navbtn.classList.remove(\"is-active\");\r\n        setTimeout(function(){\r\n            bgheader.style.display = \"none\";\r\n            header_navArea.style.display = \"none\";\r\n            search__inner.style.display = \"none\";\r\n        }, 300);\r\n        search_status();\r\n        \r\n    }else{\r\n        status();       \r\n    }\r\n    \r\n    function dis2(parentnode,element){\r\n        // console.log(element)\r\n        if(parentnode.classList.contains(\"is-open\")){\r\n            element.style.display = \"block\";\r\n            element.classList.add(\"is-open\");\r\n            element.classList.remove(\"out\");\r\n        }else{\r\n            element.classList.remove(\"is-open\");\r\n            element.classList.remove(\"out\");\r\n        }\r\n    }\r\n    \r\n    \r\n});\r\n\r\n\r\nfunction dis2(element){\r\n    if(navbtn.classList.contains(\"is-active\")){\r\n        // console.log(element)\r\n        element.style.display = \"block\";\r\n        element.classList.add(\"is-open\");\r\n        element.classList.remove(\"out\");\r\n    }else{\r\n        element.classList.remove(\"is-open\");\r\n        element.classList.remove(\"out\");\r\n    }\r\n}\r\n\r\n// let collection__list = document.getElementById(\"collection__list\");\r\n// let filter__cc = document.getElementById(\"filter__cc\");\r\nlet wraperrrr = document.querySelector(\".wraperrrr\");\r\n\r\nasync function showCollection(res){\r\n    \r\n    collection__list.innerHTML = \"\";\r\n    output = \"\";\r\n    DATA = res;\r\n    \r\n    let filterUrl = [];\r\n    \r\n    \r\n    if(parseInt(kindID) === 1){\r\n        comparatext = \"上身\";\r\n        kind = \"上身\";\r\n    }else if(parseInt(kindID) === 2){\r\n        comparatext = \"下身\";\r\n        kind = \"下身\";\r\n    }else if(parseInt(kindID) === 3){\r\n        comparatext = \"配件\";\r\n        kind = \"下身\";\r\n    }else{\r\n        filterUrl = res;\r\n        kind = \"全部\";\r\n    }\r\n    if(kindID){\r\n        filterUrl = res.filter((element) => {\r\n            let output  =  element.CommodityKinds.some((c) => {\r\n                return c === comparatext\r\n            })\r\n            \r\n            return output;\r\n        });\r\n    }\r\n    showlist(filterUrl);\r\n        \r\n}\r\nfunction dis332(parentnode,element){\r\n    // console.log(element)\r\n    if(parentnode.classList.contains(\"is-open\")){\r\n        element.style.display = \"block\";\r\n        element.classList.add(\"is-open\");\r\n        element.classList.remove(\"out\");\r\n    }else{\r\n        element.classList.remove(\"is-open\");\r\n        element.classList.remove(\"out\");\r\n    }\r\n}\r\nasync function toggle_s(){\r\n    // console.log('hiiihih');\r\n    fliter__btn = document.querySelector(\".js-toggleClick\");\r\n    clear__btn = document.querySelector(\".item__list-clear\");\r\n    search__item = document.querySelectorAll(\".js-toggleClick-filter\");\r\n    search__area = document.querySelectorAll(\".js-toggleClickArea-filter\");\r\n    price__h = document.querySelectorAll(\".js-sort\");\r\n    Array.from(search__item).forEach((element, i) => {\r\n        element.addEventListener('click',(k) =>{\r\n            // console.log('feef');\r\n            element.classList.toggle(\"is-open\");\r\n            // console.log(k)\r\n            if(search__item[0].classList.contains('is-open') && !search__item[1].classList.contains('is-open')){\r\n                // element.classList.toggle(\"is-open\");\r\n                setTimeout(function(){\r\n                    search__area[1].style.display = \"none\";\r\n                }, 200);\r\n                // console.log(\"hit 0\")\r\n            }\r\n            if(search__item[1].classList.contains('is-open') && !search__item[0].classList.contains('is-open')){\r\n                \r\n                setTimeout(function(){\r\n                    search__area[0].style.display = \"none\";\r\n                }, 200);\r\n                // console.log(\"hit 1\")\r\n            }\r\n            // console.log(element.classList.contains('is-open'))\r\n            if (element.classList.contains('is-open')) {\r\n                \r\n                dis332(element, search__area[i]);\r\n            } else {\r\n                dis332(element, search__area[i]);\r\n                setTimeout(function(){\r\n                    search__area[i].style.display = \"none\";\r\n                }, 200);\r\n            }\r\n        })\r\n        });\r\n}\r\n\r\nasync function showAllTag(res){\r\n    let con =\"\";\r\n    tag__content=\"\";\r\n    await res.forEach((element) => {\r\n        (element.Tag).forEach((item, i) => {\r\n            if(item.Tag === \"新品\"){\r\n                con = `${element.Kinds} - ${item.Tag}`;\r\n            }else{\r\n                con = `${item.Tag}`;\r\n            }\r\n            tag__content += `\r\n                    <li>\r\n                        <input type=\"radio\" id=\"category_${item.TagsID}\" name=\"kinds\" data-kind=\"${element.Kinds}\" value=\"${item.Tag}\">\r\n                        <label class=\"js-toggleInview-item\" for=\"category_${item.TagsID}\"  >${con}</label>\r\n                    </li>\r\n                    `;\r\n        });\r\n        \r\n    });\r\n    \r\n}\r\nasync function showColor(res){\r\n    // console.log(res)\r\n    let color__con =\"\";\r\n    filter__content = \"\";\r\n    color__con += `\r\n        <li>\r\n            <input type=\"radio\" id=\"color_0\" name=\"colorss\" value=\"全部\">\r\n            <label class=\"js-toggleInview-item\" for=\"color_0\" >全部</label>\r\n        </li>\r\n    `;\r\n    await res.forEach((element,i) => {\r\n        color__con += `\r\n        <li>\r\n            <input type=\"radio\" id=\"color_${element.ColorId}\" name=\"colorss\" value=\"${element.ColorName}\">\r\n            <label class=\"js-toggleInview-item\" for=\"color_${element.ColorId}\" >${element.ColorName}</label>\r\n        </li>\r\n        `;\r\n    });\r\n    filter__content = `\r\n    <div class=\"item__list-tool\" id=\"filter__cc\">\r\n    <h2 class=\"filter__title\" >男裝 - ${kind}</h2>\r\n    <ul class=\"item__list-filter\">\r\n        <li class=\"item__list-filter-item\">\r\n            <p class=\"js-toggleClick-filter filter__icon\">篩選</p>\r\n            <div class=\"item__list-check js-toggleClickArea-filter\">\r\n            <dl class=\"js-toggleInview\">\r\n                <dt><span class=\"js-toggleInview-item\" >CATEGORY</span></dt>\r\n                <dd>\r\n                <ul class=\"item__list-check-list list-category js-toggleInview\" id=\"kinds\">\r\n                    ${tag__content}\r\n                </ul>\r\n                </dd>\r\n            </dl>\r\n            <dl class=\"js-toggleInview\">\r\n                <dt><span class=\"js-toggleInview-item\" >顏色</span></dt>\r\n                <dd>\r\n                <ul class=\"item__list-check-list list-color js-toggleInview\" id=\"colorss\">\r\n                    ${color__con}\r\n                </ul>\r\n                </dd>\r\n            </dl>\r\n            <ul class=\"item__list-buttons\">\r\n                <li class=\"item__list-ok js-toggleClick\">\r\n                <span>確定</span>\r\n                </li>\r\n                <li class=\"item__list-clear\">\r\n                <div class=\"item__list-clear-icon\"></div>\r\n                <span>清除</span>\r\n                </li>\r\n            </ul>\r\n            </div>\r\n        </li>\r\n\r\n        <li>\r\n            <p class=\"js-toggleClick-filter oreder\">排序</p>\r\n            <div class=\"item__list-sort js-toggleClickArea-filter\" >\r\n            <ul class=\"js-toggleInview\">\r\n                <li><a class=\"js-sort-price-desc js-toggleInview-item js-sort\" data-price=\"0\">價格： 最低到最高</a></li>\r\n                <li><a class=\"js-sort-price js-toggleInview-item js-sort\" data-price=\"1\">價格： 最高到最低</a></li>\r\n                \r\n            </ul>\r\n            </div>\r\n        </li>\r\n    </ul>\r\n    </div>\r\n    `;\r\n}\r\nasync function showlist(res){\r\n    output = \"\";\r\n    \r\n    collection__list.innerHTML =\"\";\r\n    // console.log(res);\r\n    \r\n    \r\n    if(res){\r\n        res.forEach(element => {\r\n            if(!element.CommodityPrice){\r\n                element.CommodityPrice = 0;\r\n            }\r\n            // console.log(element)\r\n            output+= `\r\n            <div class=\"item__list-item\" >\r\n                <a href=\"detail.html?id=${element.CommodityId}\" data-id=\"${element.CommodityId}\">\r\n                    <figure>\r\n                        <div class=\"item__list-photo js-follower-Area\">\r\n                            <img src=${element.CommodityImages[0]}>\r\n                            \r\n                        </div>\r\n                        <figcaption>\r\n                        \r\n                        <p class=\"item__list-name\">${element.CommodityName}</p>\r\n                        <ul class=\"item__list-prices price-group\">\r\n                                <li class=\"item__list-price\">\r\n                                    <del class=\"price-delete\">\r\n                                        <span class=\"price-amount\">NT$ ${element.Price}</span>\r\n                                    </del>\r\n                                    <ins class=\"price-insert\">\r\n                                        <span class=\"price-amount\">NT$ ${element.S_Price}</span>\r\n                                    </ins>\r\n                                </li>\r\n                        </ul>\r\n                        </figcaption>\r\n                    </figure>\r\n                </a>\r\n            </div>\r\n            `;\r\n        });\r\n    }else{\r\n        output = `<p class=\"item__list-notfound\">查無資料</p>`;\r\n    }\r\n    \r\n    collection__list.insertAdjacentHTML('beforeEnd',filter__content);\r\n    collection__list.insertAdjacentHTML('beforeEnd',output);\r\n    const filter__title = document.querySelector(\".filter__title\");\r\n    filter__title.innerHTML = `男裝 - ${kind}`\r\n    toggle_s();\r\n    filter__sub();\r\n    price__filter();\r\n    \r\n}\r\nasync function filter__sub(){\r\n    // toggle_s();\r\n    await fliter__btn.addEventListener(\"click\",()=>{\r\n        const kinds = document.getElementsByName('kinds');\r\n        const colorss =document.getElementsByName('colorss');\r\n        \r\n        kind = '';\r\n        let coloo = '';\r\n        let tagsss = '';\r\n        // CommodityKinds\r\n        \r\n        for (let radio of kinds)\r\n        {   \r\n            \r\n            if (radio.checked) {\r\n                tagsss = radio.dataset.kind;\r\n                kind = radio.value;\r\n            }\r\n        }\r\n        for (let l of colorss)\r\n        {\r\n            if (l.checked) {\r\n                coloo = l.value;\r\n            }\r\n        }\r\n        // console.log(kind);\r\n        // console.log(coloo);\r\n        // console.log(DATA);\r\n\r\n        // kind = \"新品\";\r\n        // tagsss = \"上身\";\r\n       function byTags(wantedkinds) {\r\n        if(kind === \"新品\"){\r\n            return(element) => {\r\n                let output  =  element.CommodityTags.some((c) => {\r\n                    return c === wantedkinds && (\r\n                        element.CommodityKinds.some((k) => {\r\n                            return  k === tagsss\r\n                        })\r\n                    )\r\n                });\r\n                return output;\r\n            };\r\n            \r\n            \r\n        }else{\r\n            return (element) => {\r\n                let output  =  element.CommodityTags.some((c) => {\r\n                    return (c === wantedkinds && (\r\n                        element.CommodityKinds.some((c) => {\r\n                            return c === tagsss\r\n                        })\r\n                    ))\r\n                })\r\n                \r\n                return output;\r\n            };\r\n        }\r\n        \r\n        \r\n      }\r\n\r\n       function byColors(wantedColors) {\r\n        return (element) => {\r\n            let output  =  element.CommodityColors.some((c) => {\r\n                return c === wantedColors\r\n            })\r\n            \r\n            return output;\r\n        };\r\n        \r\n      }\r\n        let resultFilter = () => {\r\n            \r\n            if(coloo !== \"\" && kind === \"\"){\r\n                return (DATA.filter(byColors(coloo)))\r\n                console.log(aa)\r\n            }else if((kind !== \"\" && coloo === \"\") || (coloo === \"全部\" && kind !== \"\")){\r\n                return (DATA.filter(byTags(kind)))\r\n                \r\n            }else if(kind !== \"\" && coloo !== \"\"){\r\n                return DATA.filter(byTags(kind)).filter(byColors(coloo))\r\n            }else{\r\n                console.log(\"no happen\");\r\n            }\r\n        }\r\n\r\n        // console.log(resultFilter())\r\n        showlist(resultFilter());\r\n\r\n\r\n\r\n       \r\n        \r\n        // console.log(fimal)\r\n        // showlist(fimal);\r\n        \r\n\r\n    });\r\n    clear__btn.addEventListener(\"click\",()=>{\r\n        const kinds = document.getElementsByName('kinds');\r\n        const colorss =document.getElementsByName('colorss');\r\n        for(let i=0;i<kinds.length;i++){\r\n            kinds[i].checked = false;\r\n        }\r\n        for(let i=0;i<colorss.length;i++){\r\n             colorss[i].checked = false;\r\n        }\r\n    });\r\n\r\n}\r\nasync function price__filter(){\r\n    Array.from(price__h).forEach((element,i) => {\r\n        element.addEventListener('click', (item)=>{\r\n\r\n            if(parseInt(element.dataset.price) === 0){\r\n                DATA.sort(function(a,b){\r\n                    if (a.S_Price > b.S_Price) return 1;\r\n                    if (a.S_Price < b.S_Price) return -1;\r\n                    return 0;\r\n                })\r\n            }else{\r\n                DATA.sort(function(a,b){\r\n                    if (a.S_Price < b.S_Price) return 1;\r\n                    if (a.S_Price > b.S_Price) return -1;\r\n                    return 0;\r\n                })\r\n            }\r\n            showlist(DATA);\r\n        });\r\n    });\r\n}"]}