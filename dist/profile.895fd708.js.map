{"version":3,"sources":["profile.js"],"names":["form__edit","document","querySelector","list__account","js__account_form","cancel__form","token","localStorage","getItem","show__email","get__name","show__address","update__confirm","getElementById","addEventListener","profiletoken","e","style","display","preventDefault","params","name","value","Address","phoneNumber","updateprofile","removeItem","window","location","assign","makeRequest","update","result","console","log","getpro","res","innerHTML","email","method","url","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","onload","status","parse","response","bb","statusText","onerror"],"mappings":"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","file":"profile.895fd708.js","sourceRoot":"..","sourcesContent":["let form__edit = document.querySelector(\".js-account-edit\");\r\n\r\nlet list__account = document.querySelector(\".js-account-list\");\r\n\r\nlet js__account_form = document.querySelector(\".account__address-form\");\r\n\r\n\r\nlet cancel__form = document.querySelector(\".form-canel\");\r\n\r\n\r\n\r\n\r\nlet token = localStorage.getItem('token');\r\n\r\nlet show__email = document.querySelector(\".show__email\");\r\nlet get__name = document.querySelector(\".get__name\");\r\nlet show__address = document.querySelector(\".show__address\");\r\n\r\nlet update__confirm = document.getElementById(\"update__confirm\");\r\n// import CART from \"./shoppingCart.js\";\r\n// import {showCart} from \"./shoppingCart.js\";\r\n// import {incres} from \"./shoppingCart.js\";\r\n// import {decrea} from \"./shoppingCart.js\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\",  ()=> {\r\n\r\n    profiletoken();\r\n\r\n    \r\n    form__edit.addEventListener(\"click\", (e)=>{\r\n        list__account.style.display = \"none\";\r\n    \r\n        js__account_form.style.display = \"block\";\r\n    \r\n    });\r\n    cancel__form.addEventListener(\"click\",(e)=>{\r\n        e.preventDefault();\r\n    \r\n        list__account.style.display = \"block\";\r\n    \r\n        js__account_form.style.display = \"none\";\r\n    \r\n    });\r\n\r\n    update__confirm.addEventListener(\"click\",function(e){\r\n        e.preventDefault();\r\n        // params.name = document.getElementById(\"Customername\").value;\r\n        // params.email_Address = document.getElementById(\"CustomerEmail\").value;\r\n        // params.password = document.getElementById(\"CustomerPassword\").value;\r\n        // params.second_verify = document.getElementById(\"CustomerPasswordCheck\").value; \r\n\r\n        const params = {\r\n            name : document.getElementById(\"Customername\").value,\r\n            Address : document.getElementById(\"CustomerEmail\").value,\r\n            phoneNumber: document.getElementById(\"CustomerPhone\").value\r\n            // ,\r\n            // password : document.getElementById(\"CustomerPassword\").value\r\n        }\r\n        updateprofile(params);\r\n\r\n        \r\n        \r\n        \r\n       \r\n    //     // module.exports = params;\r\n    });\r\n    \r\n\r\n    // sign in\r\n\r\n    \r\n    // logout\r\n    document.querySelector(\".js-logout\").addEventListener(\"click\",()=>{\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"user\");\r\n        window.location.assign(\"index.html\");\r\n    });\r\n});\r\n\r\nasync function updateprofile(params) {\r\n    let update = await makeRequest(\"POST\", \"https://localhost:7206/api/Member/update\",params);\r\n}\r\n\r\n\r\n\r\n\r\n// // const params = require('./sign');\r\n// // console.log(params);\r\n// // sign up\r\n\r\nasync function profiletoken() {\r\n    let result = await makeRequest(\"GET\", \"https://localhost:7206/api/Member/getMember\");\r\n    console.log(result)\r\n    // getpro(result[0]);\r\n}\r\n\r\n\r\nfunction getpro(res){\r\n    console.log(res)\r\n    show__email.innerHTML = email;\r\n    get__name.innerHTML = name;\r\n}\r\n\r\n\r\nfunction makeRequest(method, url,params) {\r\n    return new Promise(function (resolve, reject) {\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open(method, url);\r\n        // xhr.setRequestHeader('Content-type', 'application/json');\r\n        if(token != null)\r\n        {\r\n            xhr.setRequestHeader('Authorization', token );\r\n        }\r\n        if(method == \"GET\"){\r\n            xhr.send();\r\n        }else{\r\n            xhr.send(JSON.stringify(params));\r\n        }\r\n        \r\n        xhr.onload = function () {\r\n            if (this.status >= 200 && this.status < 300) {\r\n                resolve(JSON.parse(xhr.response));\r\n                let bb = JSON.parse(xhr.response);\r\n                // console.log(bb)\r\n                // if(method == \"GET\"){\r\n                //    getpro(bb[0][\"Name\"],bb[0][\"Email_Address\"],bb[0][\"Address\"]);\r\n                // }else{  \r\n                //     location.reload();\r\n                // }\r\n                \r\n                \r\n            } else {\r\n                reject({\r\n                    status: this.status,\r\n                    statusText: xhr.statusText\r\n                });\r\n            }\r\n        };\r\n        xhr.onerror = function () {\r\n            reject({\r\n                status: this.status,\r\n                statusText: xhr.statusText\r\n            });\r\n        };\r\n        \r\n    });\r\n}\r\n\r\n"]}